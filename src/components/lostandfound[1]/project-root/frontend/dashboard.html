<!DOCTYPE html>
<html>
<head>
    <title>Dashboard - Coding Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <h1>Dashboard</h1>
        <a href="index.html">Add Profile</a>
    </nav>

    <main id="statsContainer" class="grid"></main>

    <script>
        async function loadStats() {
            const res = await fetch('/api/stats');
            const stats = await res.json();
            const container = document.getElementById('statsContainer');
            container.innerHTML = '';

            stats.forEach(s => {
                const progress = Math.min((s.solved / s.target) * 100, 100);
                container.innerHTML += `
                    <div class="card">
                        <h3>${s.platform}</h3>
                        <p>Solved: ${s.solved}</p>
                        <p>Target: ${s.target}</p>
                        <div class="progress-bar">
                            <div class="progress" style="width:${progress}%;"></div>
                        </div>
                    </div>
                `;
            });
        }
        loadStats();
    </script>
</body>
</html>
